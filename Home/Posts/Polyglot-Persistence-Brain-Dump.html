<html><head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LEEFT9748K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LEEFT9748K');
</script>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Polyglot Persistence Brain Dump</title><style>

body, h1, h2, h3, a, p {
	font-family: 'DM Sans', sans-serif;
	letter-spacing: .02em;
	font-size: 1.2rem;
}

/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 90%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-interactiveBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg-width%3D%2216%22-height%3D%2216%22-viewBox%3D%220-0-16-16%22-fill%3D%22none%22-xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect-width%3D%2216%22-height%3D%2216%22-fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath-d%3D%22M6.71429-12.2852L14-4.9995L12.7143-3.71436L6.71429-9.71378L3.28571-6.2831L2-7.57092L6.71429-12.2852Z%22-fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg-width%3D%2216%22-height%3D%2216%22-viewBox%3D%220-0-16-16%22-fill%3D%22none%22-xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect-x%3D%220.75%22-y%3D%220.75%22-width%3D%2214.5%22-height%3D%2214.5%22-fill%3D%22white%22-stroke%3D%22%2336352F%22-stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	

@media (max-width: 575.98px) {
	body {
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 1.6rem;
	}
	a {
		font-size: 1.6rem;
	}
	h1 {
		font-size: Fsrem;
	}
	h2 {
		font-size: 1.6rem;
	}
	h3 {
		font-size: 1.6rem;
	}
    p {
        font-size: 1.6rem;
    }
	img {
   		max-width: 90%;
  	  	min-width: 36px;
 	   	height: auto;
	}
}


@media (max-width: 767.98px) {
	body {
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 1.5rem;
	}
	a {
		font-size: 1.5rem;
	}
	h1 {
		font-size: Fsrem;
	}
	h2 {
		font-size: 1.5rem;
	}
	h3 {
		font-size: 1.5rem;
	}
    p {
        font-size: 1.5rem;
    }
	img {
   		max-width: 90%;
  	  	min-width: 36px;
 	   	height: auto;
	}
}


@media (max-width: 991.98px) {
	body {
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 1.4rem;
	}
	a {
		font-size: 1.4rem;
	}
	h1 {
		font-size: Fsrem;
	}
	h2 {
		font-size: 1.4rem;
	}
	h3 {
		font-size: 1.4rem;
	}
    p {
        font-size: 1.4rem;
    }
	img {
   		max-width: 90%;
  	  	min-width: 36px;
 	   	height: auto;
	}
}


@media (max-width: 1199.98px) {
	body {
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 1.3rem;
	}
	a {
		font-size: 1.3rem;
	}
	h1 {
		font-size: Fsrem;
	}
	h2 {
		font-size: 1.3rem;
	}
	h3 {
		font-size: 1.3rem;
	}
    p {
        font-size: 1.3rem;
    }
	img {
   		max-width: 90%;
  	  	min-width: 36px;
 	   	height: auto;
	}
}


@media (max-width: 1399.98px) {
	body {
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 1.2rem;
	}
	a {
		font-size: 1.2rem;
	}
	h1 {
		font-size: Fsrem;
	}
	h2 {
		font-size: 1.2rem;
	}
	h3 {
		font-size: 1.2rem;
	}
    p {
        font-size: 1.2rem;
    }
	img {
   		max-width: 90%;
  	  	min-width: 36px;
 	   	height: auto;
	}
}
</style></head><body><article id="ed4bfdb2-b5c5-42d8-9694-7622d2c272bf" class="page sans"><header><h1 class="page-title">Polyglot Persistence Brain Dump</h1><p class="page-description"></p></header><div class="page-body"><div id="f95bafcd-ecbe-4624-b317-4fa9ccc423c7" class="column-list"><div id="598db10f-cd1a-457e-a25a-4ce57ce2d950" style="width:93.75000000000003%" class="column"><div><p id="d623529e-b42e-4f3e-9faf-93b865c175cc" class="">Data Al Dente</p><p id="7f8dacda-5257-4c3b-86df-a683e1b85c55" class=""><a href="../../index.html">Home</a> | <a href="../Posts.html">Posts</a> | <a href="../About-Me.html">About Me</a></p></div></div><div id="0272d0a0-1397-47bd-a5ef-f833adb77485" style="width:6.25%" class="column"></div></div><p id="8893b5a1-2bef-4727-b0d1-b871b37e1490" class="">Created <time>@January 22, 2023</time> </p><p id="95f91567-9280-4c8a-a935-4a5b114187ac" class="">Updated <time>@January 22, 2023</time> </p><ul id="801cd72c-7ce0-4900-bfd7-e10c6314fd6f" class="toggle"><li><details><summary style="cursor: pointer">Outline</summary><nav id="db66fd3f-9752-4b66-9502-67f474228d01" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e784b461-df7b-45cb-83f6-434ee15f9015">Relevant Resources</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#57f335ab-3d15-4268-b421-9476456a26fd"><time>@May 15, 2023</time> Gave Some Thought to an Initial Prototype</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7b9b9a40-99e6-4385-b0d4-3b086cc75d7f"><time>@January 6, 2023</time> features it should have</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#bcf941a9-3b44-444e-9af5-64a10f366240"><time>@January 6, 2023</time> if i tried to build this today</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#65c5a399-17dc-4dff-974f-16544da27812">Some Trino Changes</a></div></nav></details></li></ul><h1 id="e784b461-df7b-45cb-83f6-434ee15f9015" class="">Relevant Resources</h1><ul id="2eb3f172-4718-4415-b938-e01e6363e587" class="bulleted-list"><li style="list-style-type:disc">F1 Lightning</li></ul><ul id="074a025e-8553-4995-853e-0a17d4c4be14" class="bulleted-list"><li style="list-style-type:disc">SAP HANA ATR</li></ul><ul id="60b39c62-fab9-4c0d-9a21-0e31b4240c64" class="bulleted-list"><li style="list-style-type:disc">Polypheny</li></ul><ul id="0efa9d4c-7256-415f-a369-9628e9c82a95" class="bulleted-list"><li style="list-style-type:disc"><a href="https://cs.brown.edu/~ugur/fits_all.pdf">“One Size Fits All”: An Idea Whose Time Has Come and Gone - Stonebraker, Çetintemel</a> (2005)<ul id="a1092ab5-380b-447e-b648-decaf1f3f519" class="bulleted-list"><li style="list-style-type:circle">the commercial world will fracture into a collection of independent database engines, some of which may be unified by a common front-end parser</li></ul></li></ul><ul id="ddba783b-a7f2-4cd5-951d-e066f9e0024c" class="bulleted-list"><li style="list-style-type:disc">DB sys arch (Hellerstein, Stonebraker, Hamilton) (2007) <a href="https://dsf.berkeley.edu/papers/fntdb07-architecture.pdf">https://dsf.berkeley.edu/papers/fntdb07-architecture.pdf</a><ul id="c0f258e9-c574-4414-a4c9-9a69540f0df9" class="bulleted-list"><li style="list-style-type:circle">handful of successful DBMS implementations exist. The community of people involved in designing and implementing database systems is tight: many attended the same schools, worked on the same influential research projects, and collaborated on the same commercial products</li></ul></li></ul><ul id="559f7a7c-0f70-4397-8066-2d5f2b25f171" class="bulleted-list"><li style="list-style-type:disc">Martin Fowler polyglot persistence <a href="https://martinfowler.com/bliki/PolyglotPersistence.html">https://martinfowler.com/bliki/PolyglotPersistence.html</a></li></ul><ul id="e87b00a5-84b6-4296-9ffb-a33dc41a80f2" class="bulleted-list"><li style="list-style-type:disc">Gcloud blog OLTP OLAP barrier <a href="https://cloud.google.com/blog/products/databases/transactional-and-analytical-workloads-unite">https://cloud.google.com/blog/products/databases/transactional-and-analytical-workloads-unite</a></li></ul><ul id="9a148f4c-0463-4a74-a50b-b5044b463c4e" class="bulleted-list"><li style="list-style-type:disc">Snowflake Unistore, Hybrid Tables</li></ul><ul id="c37cc0be-cc77-4912-8f08-660e6c631702" class="bulleted-list"><li style="list-style-type:disc">Trino</li></ul><ul id="ac3caabc-045d-4395-8743-899becd01ca2" class="bulleted-list"><li style="list-style-type:disc">TileDB</li></ul><ul id="aa2cfb1c-9ebc-4778-bbfc-a95304254d51" class="bulleted-list"><li style="list-style-type:disc">Materialize, Timely and Differential Dataflow</li></ul><ul id="df947c4a-aa89-4228-9574-8676d1ae67e6" class="bulleted-list"><li style="list-style-type:disc">CosmosDB</li></ul><ul id="ca38c725-d47b-4a89-a6e4-ae6440225612" class="bulleted-list"><li style="list-style-type:disc">Singlestore</li></ul><ul id="2f1347fa-5d67-478e-b461-ba355b6901d9" class="bulleted-list"><li style="list-style-type:disc">Jepsen<ul id="7c5004cb-adb7-4c46-a54e-6a0f9cd02c98" class="bulleted-list"><li style="list-style-type:circle"><a href="https://jepsen.io/consistency">Consistency Models</a></li></ul></li></ul><ul id="acdce30a-c07e-4f2d-a2b7-7525ea8978e8" class="bulleted-list"><li style="list-style-type:disc"><a href="https://github.com/ept/hermitage">Hermitage</a></li></ul><ul id="565e9efb-e36b-417e-9bd4-8c9613980908" class="bulleted-list"><li style="list-style-type:disc">Some popular relevant interesting DBs or ideas: SQLite, DuckDB, Postgres, Iceberg, CrateDB, ElasticSearch, Mongo, Redis, Neo4j, Cassandra, Druid, Spark and Snowpark, S3, zookeeper and etcd, GIS stuff, JanusGraph, Memgraph, Fauna, TypeDB or GRAKN, InfluxDB, Kafka and Redpanda, RDF, triple store, JDBC ODBC REST GraphQL gRPC Thrift Kafka Websocket, SQL sparkl gremlin tinkerpop data log, stream and batch processing, flink </li></ul><ul id="883958de-f735-454f-b238-57695ffc58b7" class="bulleted-list"><li style="list-style-type:disc">BigDAWG</li></ul><h1 id="57f335ab-3d15-4268-b421-9476456a26fd" class=""><time>@May 15, 2023</time> Gave Some Thought to an Initial Prototype</h1><p id="a66277f5-111d-4a6f-ab89-9763788e393d" class="">Codename Amsterdam (future ones will be cities with increasing letter names: belfast, copenhagen, dublin, edinburgh, florence, grenada, h? london, munich, york, zurich</p><figure id="b49d0ed3-ddac-4b5d-bcbb-a36b6519baf6"><div class="source">https://whimsical.com/amsterdam-design-NCuDd7P2u61edxTXa1R7gq</div></figure><p id="36b46490-a6c6-4618-b153-c8bee3c18733" class="">this is what i want to implement first and then benchmark some OLTP and OLAP queries on sqlite and duckdb. i think prototyping this will help me make the problem more concrete and highlight gaps in my knowledge, etc.</p><h1 id="7b9b9a40-99e6-4385-b0d4-3b086cc75d7f" class=""><time>@January 6, 2023</time> features it should have</h1><p id="cd0918b4-bae4-4523-8392-248ea8817068" class="">Single Node or Distributed (can run on premises, cloud, etc)</p><p id="83f93689-e578-4ec9-8cf8-d8fb5d702ffa" class="">Intelligently shuffles data around and caches it automagically for you to optimize various params, note that the same logical entity may have 1-n physical entities for it</p><p id="4a1ee6ad-fce4-4adf-a5c8-bb06aa85577a" class="">Can set optimization config and parameters (eg cost, perf, etc), these could be a simplified layer on top of more low level knobs (eg ottertune style) </p><p id="ddd00b10-9e1c-4625-9cc3-f3db3574fe67" class="">Most config and parameters can be set at various levels (global, cluster, user, schema. or namespace, table or entity type, row or entity, column or attribute, query, etc)</p><p id="d81c43d0-cc6d-4323-9238-5ed78b401bd8" class="">a bunch of query languages on top of the data (eg graph, sql, document, kv, graphql, rest, grpc, etc). presumably the base data is stored in the most flexible graph way and the other languages are just derived from this, though we could do sql and use recursive ctes or udfs or something to do graph</p><p id="a3f91edc-baf1-462d-a03f-708fab95d028" class="">Some default datastore[s] come bundled (eg sqlite or Postgres, duckdb) but then other ones you add or configure</p><p id="ab24fb09-049e-4fa3-9d4f-8e66fe77b424" class="">you can do all crud sql operations eg select insert update delete</p><p id="4c3a7057-ae8c-4146-a82e-88d5fafd7263" class="">how should schema be handled? graph schema which can be translated to other schemas? or keep it simple</p><p id="7da8cb51-3227-4376-8785-51f17843b7d7" class="">you can specify the level of “isolation” at various levels </p><ul id="a7123417-6e26-4e1f-88d9-21f0f0bfdc13" class="toggle"><li><details><summary style="cursor: pointer">more details on isolation</summary><ul id="a460afe5-976a-4ce0-acd3-5dfed929ebcd" class="bulleted-list"><li style="list-style-type:disc"><a href="https://github.com/ept/hermitage">https://github.com/ept/hermitage</a><p id="7924b43c-5b84-4786-9edf-dfb631b6b31e" class="">The <a href="http://synthesis.ipi.ac.ru/synthesis/student/oodb/essayRef/sqlFoundation.pdf">SQL standard</a> tried to define four isolation levels (read uncommitted, read committed, repeatable read and serializable), but its definition is <a href="http://research.microsoft.com/pubs/69541/tr-95-51.pdf">flawed</a>. Several researchers have tried to nail down more precise definitions of weak (i.e. non-serializable) isolation levels. In particular:</p><ul id="b3939031-4550-4aac-a00f-40160d871dfe" class="bulleted-list"><li style="list-style-type:circle">Peter Bailis, Alan Fekete, Ali Ghodsi, Joseph M. Hellerstein, and Ion Stoica: &quot;<a href="http://www.bailis.org/papers/ramp-tods2016.pdf">Scalable Atomic Visibility with RAMP Transactions</a>&quot; at ACM Transactions on Database Systems, Vol. 41, No. 3, Article 15, Publication date: July 2016.</li></ul><ul id="67b1e785-28b8-44bf-a065-0a7829bd1db5" class="bulleted-list"><li style="list-style-type:circle">Peter Bailis, Aaron Davidson, Alan Fekete, Ali Ghodsi, Joseph M Hellerstein and Ion Stoica: “<a href="http://arxiv.org/pdf/1302.0309.pdf">Highly Available Transactions: Virtues and Limitations (Extended Version)</a>,” at <em>40th International Conference on Very Large Data Bases</em> (VLDB), September 2014.</li></ul><ul id="dfe0d5b3-d3a1-47c6-941f-0f04ab95cf3e" class="bulleted-list"><li style="list-style-type:circle">Alan Fekete, Dimitrios Liarokapis, Elizabeth O&#x27;Neil, Patrick O&#x27;Neil, and Dennis Shasha: “<a href="https://www.cse.iitb.ac.in/infolab/Data/Courses/CS632/2009/Papers/p492-fekete.pdf">Making Snapshot Isolation Serializable</a>,” <em>ACM Transactions on Database Systems</em> (TODS), volume 30, number 2, pages 492–528, June 2005. <a href="http://dx.doi.org/10.1145/1071610.1071615">doi:10.1145/1071610.1071615</a></li></ul><ul id="ea331a8a-9465-4b5c-bc71-92518e902875" class="bulleted-list"><li style="list-style-type:circle"><a href="http://redbook.cs.berkeley.edu/"><em>Readings in Database Systems</em></a>, edited by Joseph M. Hellerstein and Michael Stonebraker, 4th edition, MIT Press, 2005. ISBN: 978-0-262-69314-1</li></ul><ul id="ab9a9667-bd6f-4947-aa33-5c2d7c2c9ecd" class="bulleted-list"><li style="list-style-type:circle">Atul Adya, Barbara Liskov, Patrick O’Neil: &quot;<a href="https://pmg.csail.mit.edu/papers/icde00.pdf">Generalized Isolation Level Definitions</a>&quot; Appears in the Proceedings of the IEEE International Conference on Data Engineering, San Diego, CA, March 2000</li></ul><ul id="1ef6b06d-b9b9-40ae-a2e1-1831583c44dc" class="bulleted-list"><li style="list-style-type:circle">Atul Adya: “<a href="http://pmg.csail.mit.edu/papers/adya-phd.pdf">Weak Consistency: A Generalized Theory and Optimistic Implementations for Distributed Transactions</a>,” PhD Thesis, Massachusetts Institute of Technology, Cambridge, MA, USA, March 1999.</li></ul><ul id="3ac97e2b-d435-4818-bc44-7095d7201152" class="bulleted-list"><li style="list-style-type:circle">Hal Berenson, Phil Bernstein, Jim Gray, Jim Melton, Elizabeth O&#x27;Neil and Patrick O&#x27;Neil: “<a href="http://research.microsoft.com/pubs/69541/tr-95-51.pdf">A Critique of ANSI SQL Isolation Levels</a>,” at <em>ACM International Conference on Management of Data</em> (SIGMOD), volume 24, number 2, May 1995. <a href="http://dx.doi.org/10.1145/568271.223785">doi:10.1145/568271.223785</a></li></ul><ul id="27a50c6b-aee9-4a9c-8dcd-e980a7190e22" class="bulleted-list"><li style="list-style-type:circle">Jim N Gray, Raymond A Lorie, Gianfranco R Putzolu, and Irving L Traiger: “<a href="http://citeseer.ist.psu.edu/viewdoc/download?doi=10.1.1.92.8248&amp;rep=rep1&amp;type=pdf">Granularity of Locks and Degrees of Consistency in a Shared Data Base</a>,” in <em>Modelling in Data Base Management Systems: Proceedings of the IFIP Working Conference on Modelling in Data Base Management Systems</em>, edited by G.M. Nijssen, Elsevier/North Holland Publishing, pages 364–394, 1976.</li></ul><p id="12b2bbc4-ff72-4bdb-8f87-2dce846b4f8d" class="">This project is based on the formal definition of weak isolation introduced by Adya, as extended by Bailis et al. They mathematically define certain <em>anomalies</em> (or <em>phenomena</em>) which can occur in an unrestricted concurrency model, and define isolation levels as <em>prohibiting</em> or <em>preventing</em> certain anomalies from occurring.</p></li></ul></details></li></ul><p id="f2253a5e-084d-4c92-8245-8f17118f60c4" class="">you can specify policies for data locality, replication, durability, etc (India data stays in India, all data must be written to two disks, this table must exist in the us and eu, etc)</p><p id="5e6fb6e7-f3ff-481d-acc1-095e7e454482" class="">automagically chooses the best db to read and write from and to</p><p id="5ee48866-bea3-453c-8fd2-d885df39af65" class="">Batch and stream processing </p><h1 id="bcf941a9-3b44-444e-9af5-64a10f366240" class=""><time>@January 6, 2023</time> if i tried to build this today</h1><ol type="1" id="fa70f0a7-aae1-4964-ae8b-a9fef2787d3e" class="numbered-list" start="1"><li>build a converter between all useful query languages (or into some intermediate representation), support datalog, a graph lang, sql, Bigtable or Cassandra like, mongo (dynamo the same as mongo?), redis, key value, elastic search, splunk, spark (eg arbitrary code), streaming db’s like flink druid ksql, time-series prometheus influx, array vector scidb faiss pinecone tiledb, gis stuff? bio chem etc stuff?<ol type="a" id="aeb2322a-772a-49bd-8113-53b9e60a4dd1" class="numbered-list" start="1"><li><a href="https://arxiv.org/abs/1607.04197">https://arxiv.org/abs/1607.04197</a></li></ol><ol type="a" id="fc21a6b6-6635-4f6d-afb8-cc0f6126d60c" class="numbered-list" start="2"><li><a href="http://vldb.org/pvldb/vol14/p2831-shaikhha.pdf">http://vldb.org/pvldb/vol14/p2831-shaikhha.pdf</a></li></ol><ol type="a" id="0762d913-2f7b-409a-8a8c-a92769b466f3" class="numbered-list" start="3"><li>datalog as foundation? or some graph language? probably want to just build my own language that has entities, relationships, etc</li></ol><ol type="a" id="8b3c4ac5-2627-4d48-a92b-b90612392ef6" class="numbered-list" start="4"><li>are there multi-modal db’s which would make sense to steal things from?</li></ol><ol type="a" id="d026b9e4-44dd-4754-a01a-2c57ec7effad" class="numbered-list" start="5"><li>compilers and query languages</li></ol></li></ol><ol type="1" id="cb9faf7b-d926-4cae-9980-92a1753f29f5" class="numbered-list" start="2"><li>Build a query router which chooses the best place[s] to read or write<ol type="a" id="8349e5c4-0380-4272-9dc4-7c3415a8f5b7" class="numbered-list" start="1"><li>trino</li></ol><ol type="a" id="f976e26e-c8d6-4fdc-85b2-b8927537f2b6" class="numbered-list" start="2"><li>calcite</li></ol><ol type="a" id="61d4d17d-2164-4dc6-8df0-4b225ea160b5" class="numbered-list" start="3"><li>polystore query optimization</li></ol></li></ol><ol type="1" id="bb4734fb-b3b4-4e35-a392-d202129986f0" class="numbered-list" start="3"><li>Some way to reason about consistency and isolation levels<ol type="a" id="7373ed5a-d659-4fcd-9fdf-4046e6875198" class="numbered-list" start="1"><li>timely dataflow</li></ol><ol type="a" id="2b439ea5-2177-465c-95de-ef9cb3327a39" class="numbered-list" start="2"><li>reads are writes too</li></ol><ol type="a" id="044d7336-81cd-4d7a-8b39-a09e0490d75d" class="numbered-list" start="3"><li>see hermitage above</li></ol><ol type="a" id="ffef5e44-aa9c-44d8-b08d-bcec91ff9ec9" class="numbered-list" start="4"><li>distributed systems</li></ol></li></ol><ol type="1" id="f5173479-527a-4732-a587-9b8d404deb67" class="numbered-list" start="4"><li>config and optimization knobs and params</li></ol><h2 id="65c5a399-17dc-4dff-974f-16544da27812" class="">Some Trino Changes</h2><ol type="1" id="04e2fa89-c488-4e9c-b339-f4905a4cdbf9" class="numbered-list" start="1"><li>Graph support</li></ol><ol type="1" id="87447ce1-bd53-4d7a-99b0-1c3758aa95d9" class="numbered-list" start="2"><li>Logical catalogs which can have multiple physical catalogs backing them<ol type="a" id="f13001d6-c986-4c5d-846a-66783cea4fae" class="numbered-list" start="1"><li>Potentially some way to shuffle between catalogs too</li></ol><ol type="a" id="2bb1ffdf-4738-456a-9665-6bfee7b74621" class="numbered-list" start="2"><li>Some way to reason about consistency and isolation levels when inserting into logical catalog with multiple physical catalogs</li></ol></li></ol><ol type="1" id="e951d949-be44-408b-b6bf-735993d05f58" class="numbered-list" start="3"><li>OLTP support</li></ol><ol type="1" id="ebf51b3e-f80c-44dc-a57b-e115eedc0c91" class="numbered-list" start="4"><li>Optimization knobs<ol type="a" id="265193d2-569b-459b-bb29-13a7ed135fe9" class="numbered-list" start="1"><li>Ideally at a bunch of levels</li></ol><ol type="a" id="15d3e1b8-8084-483f-bb9e-3af2a46fbc99" class="numbered-list" start="2"><li>maybe other knobs too like where to replicate data, isolation, etc</li></ol></li></ol><ol type="1" id="de22513a-e814-41c0-a7a8-8b38cdb16090" class="numbered-list" start="5"><li>Query language mapping</li></ol><ol type="1" id="3f8393a6-793d-4d79-8bc3-b50d650fd3df" class="numbered-list" start="6"><li>Make it work well embedded or on a single node</li></ol></div></article></body></html>